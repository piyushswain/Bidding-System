 <html>  
    <head>
      <title> Bidding </title>
    </head>
    <body>
        <h1> Item 1 : </h1>
        <p id="bid_val"></p>
        <form>
            <a>Next Bid :</a><p id="new_bid"></p>
            <input type="submit" value="Send">
        </form>

        <ul id="thread"></ul>

        <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>

        <script src="/socket.io/socket.io.js"></script>

        <script>
            
            var socket = io.connect('http://localhost:3000');
            socket.on('connect', function(data) {
                socket.emit('join', 'Hello server from client');
            });

            socket.on('initiate', function(data){
                $("#bid_val").text( data.old );
                $("#new_bid").text( data.new );
            });

            socket.on('update', function(data) {
                $("#bid_val").text( data.old );
                $("#new_bid").text( data.new );
            });

            
            $('form').submit(function() {
                var new_bid = Number(document.getElementById("new_bid").innerHTML);
                $('#new_bid').val('');
                socket.emit('bid', new_bid);
                return false;
            });
        </script>  
    </body>
 </html>  
